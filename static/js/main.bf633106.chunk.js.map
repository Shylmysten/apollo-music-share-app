{"version":3,"sources":["components/Header.js","graphql/mutations.js","components/AddSong.js","graphql/subscriptions.js","components/SongList.js","components/QueuedSongList.js","graphql/queries.js","components/SongPlayer.js","reducer.js","App.js","theme.js","graphql/client.js","index.js"],"names":["useStyles","makeStyles","theme","title","marginLeft","spacing","Header","classes","AppBar","color","position","Toolbar","HeadsetTwoTone","Typography","className","variant","component","ADD_OR_REMOVE_FROM_QUEUE","gql","ADD_SONG","container","display","alignItems","urlInput","margin","addSongButton","dialog","textAlign","thumbnail","width","DEFAULT_SONG","duration","artist","AddSong","useMutation","addSong","error","React","useState","url","setUrl","playable","setPlayable","setDialog","song","setSong","handleChangeSong","event","target","name","value","prevSong","handleCloseDialog","a","player","nestedPlayer","getVideoData","songData","getYoutubeInfo","getCurrentSound","getSoundCloudInfo","variables","length","console","getDuration","video_id","author","Promise","resolve","Number","user","username","artwork_url","replace","handleError","field","graphQLErrors","extensions","path","includes","useEffect","isPlayable","SoundCloudPlayer","canPlay","YouTubePlayer","Dialog","open","onClose","DialogTitle","DialogContent","src","alt","TextField","onChange","label","fullWidth","helperText","DialogActions","Button","onClick","onChangeCapture","placeholder","type","InputProps","startAdornment","InputAdornment","Link","disabled","endIcon","AddBoxOutlined","hidden","onReady","GET_SONGS","songInfoContainer","songInfo","justifyContent","height","objectFit","backgroundSize","backgroundRepeat","backgroundPosition","flex","Song","id","onCompleted","data","localStorage","setItem","JSON","stringify","addOrRemoveFromQueue","useContext","SongContext","state","dispatch","currentSongPlaying","setCurrentSongPlaying","isSongPlaying","isPlaying","Card","CardMedia","image","CardContent","gutterBottom","CardActions","IconButton","payload","size","Pause","PlayArrow","input","__typename","Save","SongList","useSubscription","loading","style","flexDirection","marginTop","CircularProgress","songs","map","avatar","text","textOverflow","overflow","gridAutoFlow","gridTemplateColumns","gridGap","whiteSpace","QueuedSong","Avatar","Delete","QueuedSongList","queue","greaterThanMd","useMediaQuery","breakpoints","up","i","GET_QUEUED_SONGS","details","padding","content","controls","paddingLeft","paddingRight","playIcon","SongPlayer","seconds","useQuery","reactPlayerRef","useRef","played","setPlayed","playedSeconds","setPlayedSeconds","seeking","setSeeking","positionInQueue","setPosistionInQueue","songIndex","findIndex","nextSong","compenent","SkipPrevious","SkipNext","Date","toISOString","substr","Slider","onMouseDown","onMouseUp","current","seekTo","newValue","min","max","step","ref","onProgress","playing","songReducer","action","createContext","App","initalSongState","useReducer","greaterThanSm","Provider","Hidden","only","Grid","paddingTop","item","xs","md","right","top","left","bottom","createTheme","palette","primary","teal","secondary","purple","client","ApolloClient","link","WebSocketLink","uri","options","reconnect","cache","InMemoryCache","typeDefs","resolvers","Mutation","_","queryResult","readQuery","query","newQueue","some","filter","writeQuery","Boolean","getItem","parse","writeData","ReactDOM","render","ApolloProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.bf633106.chunk.js","sourcesContent":["import React from \"react\";\nimport { AppBar, Toolbar, Typography, makeStyles } from \"@material-ui/core\";\nimport { HeadsetTwoTone } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        marginLeft: theme.spacing(3)\n    }\n}))\n\nfunction Header() {\n    const classes = useStyles();\n\n    return (\n        <AppBar color=\"primary\" position='fixed'>\n            <Toolbar>\n                <HeadsetTwoTone/>\n                <Typography className={classes.title} variant=\"h6\" component=\"h1\">\n                    Apollo Music Share\n                </Typography>\n            </Toolbar>\n        </AppBar>\n    )\n}\n\nexport default Header;","import { gql } from \"apollo-boost\";\n\nexport const ADD_OR_REMOVE_FROM_QUEUE = gql`\n  mutation addOrRemoveFromQueue($input: SongInput!) {\n    addOrRemoveFromQueue(input: $input) @client\n  }\n`\n\nexport const ADD_SONG = gql`\nmutation addSong(\n  $title: String!, \n  $artist: String!, \n  $thumbnail: String!, \n  $duration: Float!, \n  $url: String!\n  ) {\n    insert_songs(\n      objects: {\n        title: $title, \n        artist: $artist, \n        thumbnail: $thumbnail, \n        duration: $duration, \n        url: $url\n      }\n    ) {\n      affected_rows\n    }\n  }`","import React from \"react\";\nimport { Button, \n    Dialog, \n    DialogActions, \n    DialogContent, \n    DialogTitle, \n    InputAdornment, \n    TextField,\n    makeStyles\n } from \"@material-ui/core\";\nimport { AddBoxOutlined, Link } from '@material-ui/icons';\nimport ReactPlayer from \"react-player\";\nimport SoundCloudPlayer from \"react-player/soundcloud\";\nimport YouTubePlayer from \"react-player/youtube\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { ADD_SONG } from \"../graphql/mutations\";\n\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    urlInput: {\n        margin: theme.spacing(1)\n    },\n    addSongButton: {\n        margin: theme.spacing(1)\n    },\n    dialog: {\n        textAlign: 'center'\n    },\n    thumbnail: {\n        width: '90%'\n    }\n}))\n\nconst DEFAULT_SONG = {\n    duration: 0,\n    title: '',\n    artist: '',\n    thumbnail: ''\n}\n\nfunction AddSong() {\n    const classes = useStyles();\n    const [addSong, { error }] = useMutation(ADD_SONG);\n    const [url, setUrl] = React.useState('');\n    const [playable, setPlayable] = React.useState(false);\n    const [dialog, setDialog] = React.useState(false);\n    const [song, setSong] = React.useState(DEFAULT_SONG);\n\n    // when the [url] state changes, check to see if the link is a valid SoundCloud or Youtube link\n    React.useEffect(() => {\n        const isPlayable = SoundCloudPlayer.canPlay(url) || YouTubePlayer.canPlay(url)\n        setPlayable(isPlayable);\n    }, [url])\n\n    function handleChangeSong(event) {\n        const { name, value } = event.target\n        setSong(prevSong => ({\n            ...prevSong,\n            [name]: value\n        }))\n    }\n\n    function handleCloseDialog() {\n        setDialog(false);\n    }\n\n    async function handleEditSong({ player }) {\n        const nestedPlayer = player.player.player;\n        let songData;\n        if(nestedPlayer.getVideoData) {\n            songData = getYoutubeInfo(nestedPlayer);\n        } else if(nestedPlayer.getCurrentSound) {\n            songData = await getSoundCloudInfo(nestedPlayer);\n        }\n        setSong({ ...songData, url })\n    }\n\n    async function handleAddSong() {\n        try {\n            const { url, thumbnail, duration, title, artist } = song;\n        \n            await addSong({\n               variables: {\n                   url: url.length > 0 ? url : null,\n                   thumbnail: thumbnail.length > 0 ? thumbnail : null,\n                   duration: duration > 0 ? duration : null,\n                   title: title.length > 0 ? title : null,\n                   artist: artist.length > 0 ? artist : null\n               }\n           })\n           handleCloseDialog();\n           setSong(DEFAULT_SONG);\n           setUrl('');\n        } catch (error) {\n            console.error(\"Error adding song\", error);\n        }\n\n    }\n\n    function getYoutubeInfo(player) {\n        const duration = player.getDuration();\n        const { title, video_id, author } = player.getVideoData();\n        const thumbnail = `http://img.youtube.com/vi/${video_id}/0.jpg`;\n        return {\n            duration,\n            title,\n            artist: author,\n            thumbnail\n        }\n    }\n\n    function getSoundCloudInfo(player) {\n        return new Promise(resolve => {\n            player.getCurrentSound(songData => {\n                if(songData) {\n                    resolve({\n                        duration: Number(songData.duration / 1000),\n                        title: songData.title,\n                        artist: songData.user.username,\n                        thumbnail: songData.artwork_url.replace('-large', '-t500x500')\n                    });\n                }\n            })\n        })\n\n    }\n\n    function handleError(field) {\n        return error && error.graphQLErrors[0].extensions.path.includes(field);\n    }\n\n    const { thumbnail, title, artist } = song;\n\n    return (\n        <div className={classes.container}>\n            <Dialog\n                className={classes.dialog}\n                open={dialog}\n                onClose={handleCloseDialog}\n            >\n                <DialogTitle>Edit Song</DialogTitle>\n                <DialogContent>\n                    <img \n                        className={classes.thumbnail}\n                        src={thumbnail} \n                        alt=\"Song Thumbnail\"\n                    />\n                    <TextField \n                        value={title}\n                        onChange={handleChangeSong}\n                        margin=\"dense\"\n                        name=\"title\"\n                        label=\"Title\"\n                        fullWidth\n                        error={handleError('title')}\n                        helperText={handleError('title') && \"Fill out field\"}\n                    />\n                    <TextField \n                        value={artist}\n                        onChange={handleChangeSong}\n                        margin=\"dense\"\n                        name=\"artist\"\n                        label=\"Artist\"\n                        fullWidth\n                        error={handleError('artist')}\n                        helperText={handleError('artist') && \"Fill out field\"}\n                    />\n                    <TextField \n                        value={thumbnail}\n                        onChange={handleChangeSong}\n                        margin=\"dense\"\n                        name=\"thumbnail\"\n                        label=\"Thumbnail\"\n                        fullWidth\n                        error={handleError('thumbnail')}\n                        helperText={handleError('thumbnail') && \"Fill out field\"}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleCloseDialog} color=\"secondary\">Cancel</Button>\n                    <Button onClick={handleAddSong} variant=\"outlined\" color=\"primary\">Add Song</Button>\n                </DialogActions>\n            </Dialog>\n            <TextField\n                className={classes.urlInput}\n                onChangeCapture={event => setUrl(event.target.value)}\n                value={url}\n                placeholder=\"Add YouTube or Soundcloud Url\"\n                fullWidth\n                margin=\"normal\"\n                type=\"url\"\n                InputProps={{\n                    startAdornment: (\n                        <InputAdornment position=\"start\">\n                            <Link />\n                        </InputAdornment>\n                    )\n                }}\n            />\n            <Button\n                disabled={!playable}\n                className={classes.addSongButton}\n                onClick={() => setDialog(true)}\n                variant=\"contained\"\n                color=\"primary\"\n                endIcon={<AddBoxOutlined />}\n            >\n                Add\n            </Button>\n            <ReactPlayer url={url} hidden onReady={handleEditSong} />\n        </div>\n    )\n}\n\nexport default AddSong;","import { gql } from \"apollo-boost\";\n\nexport const GET_SONGS = gql`\nsubscription getSongs {\n    songs(order_by: {create_at: desc}) {\n      artist\n      duration\n      id\n      thumbnail\n      title\n      url\n    }\n  }`","import React from \"react\";\nimport { \n    Card, \n    CardActions, \n    CardContent, \n    CardMedia, \n    CircularProgress, \n    IconButton, \n    Typography,\n    makeStyles\n} from \"@material-ui/core\";\nimport { Pause, PlayArrow, Save } from \"@material-ui/icons\";\nimport { useMutation, useSubscription } from \"@apollo/react-hooks\";\nimport { GET_SONGS } from \"../graphql/subscriptions\";\nimport { SongContext } from \"../App\";\nimport { ADD_OR_REMOVE_FROM_QUEUE } from \"../graphql/mutations\";\n\nfunction SongList() {\n    const { data, loading, error } = useSubscription(GET_SONGS);\n\n    // const song = {\n    //     title: \"LUNE\",\n    //     artist: \"MOON\",\n    //     thumbnail: \"https://source.unsplash.com/random/500x500\" \n    // }\n\n    if (loading) {\n        return (\n            <div style={{ \n                display: \"flex\", \n                flexDirection: 'column',\n                alignItems: 'center',\n                marginTop: 50\n            }}>\n                <CircularProgress/>\n            </div>\n        )\n    }\n    if (error) return <div>Error fetching songs</div>\n\n\n    return <div>{data.songs.map(song => (\n        <Song key={song.id} song={song}/>\n    ))}</div>\n}\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        margin: theme.spacing(3)\n    },\n    songInfoContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    songInfo: {\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    thumbnail: {\n        width: 140,\n        height: 140,\n        objectFit: 'cover',\n        display: 'block',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'top left',\n        flex: '1 0 auto'\n    }\n}))\nfunction Song({ song }) {\n    const { id } = song;\n    const classes = useStyles();\n    const [addOrRemoveFromQueue, ] = useMutation(ADD_OR_REMOVE_FROM_QUEUE, {\n        onCompleted: data => {\n            localStorage.setItem('queue', JSON.stringify(data.addOrRemoveFromQueue));\n        }\n    });\n    const { state, dispatch } = React.useContext(SongContext)\n    const [currentSongPlaying, setCurrentSongPlaying] = React.useState(false);\n    const { thumbnail, artist, title } = song;\n\n    React.useEffect(() => {\n        const isSongPlaying = state.isPlaying && id === state.song.id;\n        setCurrentSongPlaying(isSongPlaying)\n    }, [id, state.song.id, state.isPlaying]);\n\n    function handleTogglePlay() {\n        dispatch({ type: 'SET_SONG', payload: { song }})\n        dispatch(state.isPlaying ? { type: 'PAUSE_SONG' } : { type: 'PLAY_SONG'});\n    }\n\n    function handleAddOrRemoveFromQueue() {\n        addOrRemoveFromQueue({\n            variables: {input: {...song, __typename: 'Song'}}\n        })\n    }\n\n    return (\n        <Card className={classes.container}>\n            <div className={classes.songInfoContainer}>\n                <CardMedia image={thumbnail} className={classes.thumbnail}/>\n                <div className={classes.songInfo}>\n                    <CardContent>\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                            {title}\n                        </Typography>\n                        <Typography variant=\"body1\" component=\"p\" color=\"textSecondary\">\n                            {artist}\n                        </Typography>\n                    </CardContent>\n                    <CardActions>\n                        <IconButton onClick={handleTogglePlay} size=\"small\" color=\"primary\">\n                            {currentSongPlaying ? <Pause/> : <PlayArrow  />}\n                        </IconButton>\n                        <IconButton onClick={handleAddOrRemoveFromQueue} size=\"small\" color=\"secondary\">\n                            <Save/>\n                        </IconButton>\n                    </CardActions>\n                </div>\n            </div>\n        </Card>\n    )\n}\n\nexport default SongList;","import React from \"react\";\nimport { \n    Avatar, \n    IconButton, \n    Typography,\n    makeStyles, \n    useMediaQuery\n} from \"@material-ui/core\";\nimport { Delete } from \"@material-ui/icons\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { ADD_OR_REMOVE_FROM_QUEUE } from \"../graphql/mutations\";\n\n\n\nfunction QueuedSongList({ queue }) {\n    const greaterThanMd = useMediaQuery(theme => theme.breakpoints.up('md'));\n\n    // const song = {\n    //     title: \"LUNE\",\n    //     artist: \"MOON\",\n    //     thumbnail: \"https://source.unsplash.com/random/500x500\" \n    // }\n\n\n    return  greaterThanMd && (\n        <div style={{ margin: '10px 0' }}>\n            <Typography color=\"textSecondary\" variant=\"button\">\n                QUEUE ({queue.length})\n            </Typography>\n            {queue.map((song,i) => (\n                <QueuedSong key={i} song={song}/>\n            ))}\n        </div>\n    )\n}\n\nconst  useStyles = makeStyles({\n    avatar: {\n        width: 44,\n        height: 44\n    },\n    text: {\n        textOverflow: 'ellipsis',\n        overflow: 'hidden'\n    },\n    container: {\n        display: 'grid',\n        gridAutoFlow: 'column',\n        gridTemplateColumns: '50px auto 50px',\n        gridGap: 12,\n        alignItems: 'center',\n        marginTop: 10\n    },\n    songInfoContainer: {\n        overflow: 'hidden',\n        whiteSpace: 'nowrap'\n    }\n})\n\nfunction QueuedSong({ song }) {\n    const classes = useStyles();\n    const [addOrRemoveFromQueue] = useMutation(ADD_OR_REMOVE_FROM_QUEUE, {\n        onCompleted: data => {\n            localStorage.setItem('queue', JSON.stringify(data.addOrRemoveFromQueue));\n        }\n    });\n    const { thumbnail, artist, title } = song;\n\n\n    function handleAddOrRemoveFromQueue() {\n        addOrRemoveFromQueue({\n            variables: {input: {...song, __typename: 'Song'}}\n        })\n    }\n\n    return (\n        <div className={classes.container}>\n            <Avatar className={classes.avatar} src={thumbnail} alt=\"Song Thumbnail\"/>\n            <div className={classes.songInfoContainer}>\n                <Typography variant=\"subtitle2\" className={classes.text}>\n                    {title}\n                </Typography>\n                <Typography color=\"textSecondary\" variant=\"body2\" className={classes.text}>\n                    {artist}\n                </Typography>\n            </div>\n            <IconButton onClick={handleAddOrRemoveFromQueue}>\n                <Delete color=\"error\"/>\n            </IconButton>\n        </div>\n    )\n}\n\nexport default QueuedSongList;","import { gql } from \"apollo-boost\";\n\nexport const GET_QUEUED_SONGS = gql`\n    query getQueuedSongs {\n        queue @client {\n            id\n            duration\n            title\n            artist\n            thumbnail\n            url\n        }\n    }\n`","import React from \"react\";\nimport QueuedSongList from \"./QueuedSongList\";\nimport { \n    Card, \n    CardContent, \n    CardMedia, \n    IconButton, \n    Slider, \n    Typography,\n    makeStyles\n} from \"@material-ui/core\";\nimport { Pause, PlayArrow, SkipNext, SkipPrevious } from \"@material-ui/icons\";\nimport { SongContext } from \"../App\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { GET_QUEUED_SONGS } from \"../graphql/queries\";\nimport ReactPlayer from \"react-player\";\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    details: {\n        display: 'flex',\n        flexDirection: 'column',\n        padding: '0px 15px'\n    },\n    content: {\n        flex: '1 0 auto'\n    },\n    thumbnail: {\n        width: 182\n    },\n    controls: {\n        display: 'flex',\n        alignItems: 'center',\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1)\n    },\n    playIcon: {\n        width: 38,\n        height: 38\n    }\n}))\n\nfunction SongPlayer() {\n    const { data } = useQuery(GET_QUEUED_SONGS);\n    const reactPlayerRef = React.useRef();\n    const { state, dispatch } = React.useContext(SongContext);\n    const [played, setPlayed] = React.useState(0);\n    const [playedSeconds, setPlayedSeconds] = React.useState(0);\n    const [seeking, setSeeking] = React.useState(false);\n    const [positionInQueue, setPosistionInQueue] = React.useState(0);\n    const classes = useStyles();\n\n    React.useEffect(() => {\n        const songIndex = data.queue.findIndex(song => song.id === state.song.id);\n        setPosistionInQueue(songIndex);\n    }, [data.queue, state.song.id]);\n\n    React.useEffect(() => {\n       const nextSong = data.queue[positionInQueue + 1]\n       if(played >= 0.99 && nextSong) {\n           setPlayed(0);\n           dispatch({ type: \"SET_SONG\", payload: { song: nextSong }});\n       }\n    }, [ data.queue, played, dispatch, positionInQueue ]);\n\n    function handleTogglePlay() {\n        dispatch(state.isPlaying ? { type: 'PAUSE_SONG' } : { type: 'PLAY_SONG'});\n    }\n\n    function handleProgressChange(event, newValue) {\n        setPlayed(newValue);\n    }\n\n    function handleSeekMouseDown() {\n        setSeeking(true);\n    }\n    function handleSeekMouseUp() {\n        setSeeking(false);\n        reactPlayerRef.current.seekTo(played);\n    }\n\n    function formatDuration(seconds) {\n        return new Date(seconds * 1000).toISOString().substr(11,8);\n    }\n\n    function handlePlayNextSong() {\n        const nextSong = data.queue[positionInQueue + 1]\n        if(nextSong) {\n            dispatch({ type: \"SET_SONG\", payload: { song: nextSong }});\n        }\n    }\n\n    function handlePlayPrevSong() {\n        const prevSong = data.queue[positionInQueue - 1];\n        if(prevSong) {\n            dispatch({ type: \"SET_SONG\", payload: { song: prevSong }});\n        }\n    }\n\n    return (\n        <>\n           <Card variant=\"outlined\" className={classes.container}>\n               <div className={classes.details}>\n                   <CardContent className={classes.content}>\n                       <Typography variant=\"h5\" compenent=\"h3\">\n                           {state.song.title}\n                       </Typography>\n                       <Typography variant=\"subtitle1\" compenent=\"p\" color=\"textSecondary\">\n                           {state.song.artist}\n                       </Typography>\n                   </CardContent>\n                   <div className={classes.controls}>\n                       <IconButton onClick={handlePlayPrevSong}>\n                           <SkipPrevious/>\n                       </IconButton>\n                       <IconButton onClick={handleTogglePlay}>\n                          {state.isPlaying ? <Pause className={classes.playIcon}/> : <PlayArrow className={classes.playIcon}/>}\n                       </IconButton>\n                       <IconButton onClick={handlePlayNextSong}>\n                           <SkipNext/>\n                       </IconButton>\n                       <Typography variant=\"subtitle1\" compenent=\"p\" color=\"textSecondary\">\n                           {formatDuration(playedSeconds)}\n                       </Typography>\n                   </div>\n                   <Slider \n                        onMouseDown={handleSeekMouseDown}\n                        onMouseUp={handleSeekMouseUp}\n                        onChange={handleProgressChange}\n                        type=\"range\"\n                        min={0}\n                        max={1}\n                        step={0.01}\n                        value={played}\n                   />\n                </div>\n                <ReactPlayer \n                    ref={reactPlayerRef}\n                    onProgress={({ played, playedSeconds}) => {\n                        if(!seeking) {\n                            setPlayed(played);\n                            setPlayedSeconds(playedSeconds);\n                        }\n                    }}\n                    url={state.song.url} \n                    playing={state.isPlaying} hidden\n                />\n                <CardMedia\n                    className={classes.thumbnail}\n                    image={state.song.thumbnail}\n                />\n           </Card>\n            <QueuedSongList queue={data.queue}/>\n        </>\n    );\n}\n\nexport default SongPlayer;","function songReducer(state, action) {\n    switch (action.type) {\n        case \"PLAY_SONG\": {\n            return {\n                ...state,\n                isPlaying: true\n            }\n        }\n        case \"PAUSE_SONG\": {\n            return {\n                ...state,\n                isPlaying: false\n            }\n        }\n        case \"SET_SONG\": {\n            return {\n                ...state, \n                song: action.payload.song\n            }\n        }\n        default:\n            return state;\n    }\n}\n\nexport default songReducer;","import React from \"react\";\nimport Header from \"./components/Header\";\nimport AddSong from \"./components/AddSong\";\nimport SongList from \"./components/SongList\";\nimport SongPlayer from \"./components/SongPlayer\";\nimport { Grid, useMediaQuery, Hidden } from '@material-ui/core';\nimport songReducer from \"./reducer\";\n\nexport const SongContext = React.createContext({\n  song: {\n    id: 'f8040162-1565-42df-ad95-bb1a96ccc1b5',\n    title: 'Mine All Mine',\n    artist: 'Van Halen',\n    thumbnail: 'http://img.youtube.com/vi/IVH7mHldMOo/0.jpg',\n    url: 'https://www.youtube.com/watch?v=IVH7mHldMOo',\n    duration: 315\n  },\n  isPlaying: false\n})\n\n\nfunction App() {\n  const initalSongState = React.useContext(SongContext);\n  const [state, dispatch] = React.useReducer(songReducer, initalSongState);\n  const greaterThanSm = useMediaQuery(theme => theme.breakpoints.up('sm'));\n  const greaterThanMd = useMediaQuery(theme => theme.breakpoints.up('md'));\n  return (\n     <SongContext.Provider value={{ state, dispatch}}>\n     <Hidden only=\"xs\">\n        <Header />\n     </Hidden>\n        <Grid container spacing={3}>\n          <Grid style={{\n            paddingTop: greaterThanSm ? 80 : 10\n          }} item xs={12} md={7}>\n            <AddSong />\n            <SongList />\n          </Grid>\n          <Grid style={ greaterThanMd ? {\n            position: 'fixed',\n            width: '100%',\n            right: 0,\n            top: 70\n          } : {\n            position: 'fixed',\n            width: '100%',\n            left: 0,\n            bottom: 0\n          }} item xs={12} md={5}>\n            <SongPlayer />\n          </Grid>\n        </Grid>\n     </SongContext.Provider>\n  );\n}\n\nexport default App;\n","import { createTheme } from \"@material-ui/core/styles\";\nimport { teal, purple } from '@material-ui/core/colors';\n\nconst theme = createTheme({\n    palette: {\n        type: 'dark',\n        primary: teal,\n        secondary: purple\n    }\n})\n\nexport default theme;","import ApolloClient from \"apollo-client\";\nimport { WebSocketLink } from 'apollo-link-ws';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { gql } from \"apollo-boost\";\nimport { GET_QUEUED_SONGS } from \"./queries\";\n\nconst client = new ApolloClient({\n    link: new WebSocketLink({\n        uri: 'wss://apollo-music-share-build.herokuapp.com/v1/graphql',\n        options: {\n            reconnect: true\n        }\n    }),\n    cache: new InMemoryCache(),\n    typeDefs: gql`\n    type Song {\n        id: uuid!\n        title: String!\n        artist: String!\n        thumbnail: String!\n        url: String!\n        duration: Float!\n    }\n\n    input SongInput {\n        id: uuid!\n        title: String!\n        artist: String!\n        thumbnail: String!\n        url: String!\n        duration: Float!\n    }\n\n    type Query {\n        queue: [Song]!\n    }\n\n    type Mutation {\n        addOrRemoveFromQueue(input: SongInput!): [Song]!\n    }\n    `,\n    resolvers: {\n        Mutation: {\n            addOrRemoveFromQueue: (_,{ input }, { cache }) => {\n                const queryResult = cache.readQuery({\n                    query: GET_QUEUED_SONGS\n                })\n                if (queryResult) {\n                    const { queue } = queryResult;\n                    const isInQueue = queue.some(song => song.id === input.id);\n                    const newQueue = isInQueue ? queue.filter(song => song.id !== input.id) : [...queue, input];\n                    cache.writeQuery({\n                        query: GET_QUEUED_SONGS,\n                        data: { queue: newQueue }\n                    })\n                    return newQueue;\n                }\n                return [];\n            }\n        }\n    }\n});\n\nconst hasQueue = Boolean(localStorage.getItem('queue'));\n\nconst data = {\n    queue: hasQueue ? JSON.parse(localStorage.getItem('queue')) : []\n}\n\n// const client = new ApolloClient({\n//     uri: 'https://apollo-music-share-build.herokuapp.com/v1/graphql'\n// })\n\nclient.writeData({ data });\n\nexport default client;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { CssBaseline, MuiThemeProvider } from '@material-ui/core';\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport theme from './theme';\nimport client from './graphql/client';\n\nReactDOM.render(\n  \n    <ApolloProvider client={client}>\n      <MuiThemeProvider theme={theme}>\n        <CssBaseline />\n        <App />\n      </MuiThemeProvider>\n    </ApolloProvider>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}